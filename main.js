function keySplines(){"use strict";function a(){if(x=document.getElementById("duration"),x.value||(x.value=hb),t=document.getElementById("direction"),u=document.getElementById("horizontal"),v=document.getElementById("vertical"),w=t.querySelectorAll("input[type=radio]"),!t.selectedItem)for(var a=0;a<w.length;a++)w[a].value===gb&&(w[a].checked=!0);B=document.getElementById("animate"),y=document.getElementById("ball"),H=document.getElementById("animate-svg"),I=H.parentNode,C=I.clientWidth,D=I.clientHeight,H.setAttributeNS(null,"width",C),H.setAttributeNS(null,"height",D),H.setAttributeNS(null,"viewBox","0 0 "+C+" "+D),J=document.getElementById("spline"),K=document.getElementById("spline-svg"),N=K.parentNode,L=N.clientWidth,M=N.clientHeight,K.setAttributeNS(null,"width",L),K.setAttributeNS(null,"height",M),K.setAttributeNS(null,"viewBox","0 0 "+L+" "+M);for(var c,d,e,f,g=0;eb-1>g;g++)f=L/eb*(g+1),c=document.createElementNS("http://www.w3.org/2000/svg","line"),c.setAttributeNS(null,"stroke","#f2f2f2"),c.setAttributeNS(null,"stroke-width","1"),c.setAttributeNS(null,"x1",f),c.setAttributeNS(null,"y1","0"),c.setAttributeNS(null,"x2",f),c.setAttributeNS(null,"y2",M),K.insertBefore(c,J),e=M/eb*(g+1),d=document.createElementNS("http://www.w3.org/2000/svg","line"),d.setAttributeNS(null,"stroke","#f2f2f2"),d.setAttributeNS(null,"stroke-width","1"),d.setAttributeNS(null,"x1",0),d.setAttributeNS(null,"y1",e),d.setAttributeNS(null,"x2",L),d.setAttributeNS(null,"y2",e),K.insertBefore(d,J);bb=document.createElementNS("http://www.w3.org/2000/svg","text"),bb.setAttributeNS(null,"x",5),bb.setAttributeNS(null,"y",M-5),bb.setAttributeNS(null,"font-size","13px"),bb.setAttributeNS(null,"fill","#666"),bb.textContent="0",K.insertBefore(bb,J),cb=document.createElementNS("http://www.w3.org/2000/svg","text"),cb.setAttributeNS(null,"x",5),cb.setAttributeNS(null,"y",15),cb.setAttributeNS(null,"font-size","13px"),cb.setAttributeNS(null,"fill","#666"),cb.textContent="1",K.insertBefore(cb,J),db=document.createElementNS("http://www.w3.org/2000/svg","text"),db.setAttributeNS(null,"x",L-13),db.setAttributeNS(null,"y",M-5),db.setAttributeNS(null,"font-size","13px"),db.setAttributeNS(null,"fill","#666"),db.textContent="1",K.insertBefore(db,J),O=document.getElementById("handle1"),P=document.getElementById("line1"),Q=document.getElementById("handle2"),R=document.getElementById("line2"),S=document.getElementById("indicator"),V=document.getElementById("indicator-ball-animate"),T=K,U=document.getElementById("indicator-animate"),W=document.getElementById("output"),X=document.getElementById("output-button"),z=document.getElementById("show-indicator"),z.setAttribute("checked",ib),Y=document.getElementById("tooltip"),b()}function b(){hb=x.value,A=y.getAttribute("r"),gb=t.querySelector("input:checked").value,"horizontal"===gb?(F=C,y.setAttributeNS(null,"cx",A),y.setAttributeNS(null,"cy",M/2),E="cx"):"vertical"===gb&&(F=D,y.setAttributeNS(null,"cy",A),y.setAttributeNS(null,"cx",L/2),E="cy"),G=F-A,B.setAttributeNS(null,"attributeName",E),B.setAttributeNS(null,"from",A),B.setAttributeNS(null,"to",A),B.setAttributeNS(null,"dur",hb+"s"),B.setAttributeNS(null,"calcMode","spline"),B.setAttributeNS(null,"values",A+";"+G+";"+A),B.setAttributeNS(null,"keySplines",fb+";"+fb);var a=fb.split(" ");p=a[0]*L,q=-1*a[1]*M+M,r=a[2]*L,s=-1*a[3]*M+M,J.setAttributeNS(null,"d","M0,"+L+" C"+p+","+q+" "+r+","+s+" "+L+",0"),O.setAttributeNS(null,"cx",p),O.setAttributeNS(null,"cy",q),P.setAttributeNS(null,"x1",0),P.setAttributeNS(null,"y1",M),P.setAttributeNS(null,"x2",p),P.setAttributeNS(null,"y2",q),Q.setAttributeNS(null,"cx",r),Q.setAttributeNS(null,"cy",s),R.setAttributeNS(null,"x1",L),R.setAttributeNS(null,"y1",0),R.setAttributeNS(null,"x2",r),R.setAttributeNS(null,"y2",s),z.checked?S.removeAttribute("style"):S.setAttribute("style","display:none;"),S.setAttributeNS(null,"d","M0,0 l0,"+M),U.setAttributeNS(null,"from","M0,0L0,"+M),U.setAttributeNS(null,"to","M"+L+",0 L"+L+","+M),U.setAttributeNS(null,"dur",hb/2+"s"),W.value=Math.round(100*a[0])/100+" "+Math.round(100*a[1])/100+" "+Math.round(100*a[2])/100+" "+Math.round(100*a[3])/100,X.setAttribute("disabled","disabled")}function c(a){a.preventDefault(),$=a.target,Z=!0,_=a.pageX,ab=a.pageY}function d(a){if(Z){var c={x:a.pageX-_,y:a.pageY-ab},d={x:parseInt($.getAttribute("cx"),10),y:parseInt($.getAttribute("cy"),10)},e={x:d.x+=c.x,y:d.y+=c.y};e.x<0?e.x=0:e.x>L&&(e.x=L),e.y<0?e.y=0:e.y>M&&(e.y=M),$.setAttributeNS(null,"cx",e.x),$.setAttributeNS(null,"cy",e.y),_=a.pageX,ab=a.pageY;var g=fb.split(" ");"handle1"===$.getAttribute("id")?fb=e.x/L+" "+(e.y-M)/(-1*M)+" "+g[2]+" "+g[3]:"handle2"===$.getAttribute("id")&&(fb=g[0]+" "+g[1]+" "+e.x/L+" "+(e.y-M)/(-1*M)),f($),b()}}function e(a){a.preventDefault(),a.stopPropagation(),$&&$.setAttributeNS(null,"r",4),Z=!1,$=void 0,g()}function f(a){var b=fb.split(" ");"handle1"===a.getAttribute("id")?Y.textContent="x: "+Math.round(100*b[0])/100+", y: "+Math.round(100*b[1])/100:"handle2"===a.getAttribute("id")&&(Y.textContent="x: "+Math.round(100*b[2])/100+", y: "+Math.round(100*b[3])/100),m(Y,"active"),Y.setAttribute("style","top:"+(a.getBoundingClientRect().bottom+10+"px;left:"+(a.getBoundingClientRect().left-Y.scrollWidth/2)+"px;"))}function g(){Y.classList.remove("active")}function h(a){for(var b=a.split(" "),c=[],d=0;d<b.length;d++)""!==b[d].trim()&&i(b[d].trim())&&c.push(parseFloat(b[d]));if(4===c.length){for(var e=0;4>e;e++)if(c[e]<0||c[e]>1)return!1;return c}return!1}function i(a){return!isNaN(parseFloat(a))&&isFinite(a)}function j(){var a=h(W.value);a&&(fb=a.join(" ")),W.blur(),b()}function k(){h(W.value)?X.removeAttribute("disabled"):X.setAttribute("disabled","disabled")}function l(a){13===a.keyCode&&"disabled"!==X.getAttribute("disabled")&&j()}function m(a,b){if(a.classList.add)a.classList.add(b);else{for(var c=a.getAttribute("class").split(" "),d=[],e=0;e<c.length;e++)""!==c[e].trim()&&d.push(c[e]);d.push(b),a.setAttribute("class",d.join(" "))}}function n(a){a.target.setAttributeNS(null,"r",5),f(a.target)}function o(a){Z||(a.target.setAttributeNS(null,"r",4),g())}var p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb=10,fb="0.1 0.8 0.9 0.1",gb="horizontal",hb=2,ib=!0;a();var jb=[u,v];x.addEventListener("input",b,!1);for(var kb=0;2>kb;kb++)jb[kb].addEventListener("change",b,!1);for(var lb=[O,Q],mb=0;2>mb;mb++)lb[mb].addEventListener("mouseover",n,!1),lb[mb].addEventListener("mouseout",o,!1),lb[mb].addEventListener("mousedown",c,!1),lb[mb].addEventListener("mousemove",d,!1),lb[mb].addEventListener("mouseup",e,!1);document.addEventListener("mouseup",e,!1),document.addEventListener("mousemove",d,!1),z.addEventListener("change",b,!1),W.addEventListener("input",k,!1),X.addEventListener("click",j,!1),document.addEventListener("keydown",l,!1)}document.addEventListener("DOMContentLoaded",function(){keySplines()},!1),window.Modernizr=function(a,b,c){function d(a){o.cssText=a}function e(a,b){return typeof a===b}var f,g,h,i="2.8.3",j={},k=!0,l=b.documentElement,m="modernizr",n=b.createElement(m),o=n.style,p={}.toString,q={svg:"http://www.w3.org/2000/svg"},r={},s=[],t=s.slice,u={}.hasOwnProperty;h=e(u,"undefined")||e(u.call,"undefined")?function(a,b){return b in a&&e(a.constructor.prototype[b],"undefined")}:function(a,b){return u.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=t.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(t.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(t.call(arguments)))};return d}),r.svg=function(){return!!b.createElementNS&&!!b.createElementNS(q.svg,"svg").createSVGRect},r.smil=function(){return!!b.createElementNS&&/SVGAnimate/.test(p.call(b.createElementNS(q.svg,"animate")))};for(var v in r)h(r,v)&&(g=v.toLowerCase(),j[g]=r[v](),s.push((j[g]?"":"no-")+g));return j.addTest=function(a,b){if("object"==typeof a)for(var d in a)h(a,d)&&j.addTest(d,a[d]);else{if(a=a.toLowerCase(),j[a]!==c)return j;b="function"==typeof b?b():b,"undefined"!=typeof k&&k&&(l.className+=" "+(b?"":"no-")+a),j[a]=b}return j},d(""),n=f=null,function(a,b){function c(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function d(){var a=s.elements;return"string"==typeof a?a.split(" "):a}function e(a){var b=r[a[p]];return b||(b={},q++,a[p]=q,r[q]=b),b}function f(a,c,d){if(c||(c=b),k)return c.createElement(a);d||(d=e(c));var f;return f=d.cache[a]?d.cache[a].cloneNode():o.test(a)?(d.cache[a]=d.createElem(a)).cloneNode():d.createElem(a),!f.canHaveChildren||n.test(a)||f.tagUrn?f:d.frag.appendChild(f)}function g(a,c){if(a||(a=b),k)return a.createDocumentFragment();c=c||e(a);for(var f=c.frag.cloneNode(),g=0,h=d(),i=h.length;i>g;g++)f.createElement(h[g]);return f}function h(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?f(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+d().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function i(a){a||(a=b);var d=e(a);return s.shivCSS&&!j&&!d.hasCSS&&(d.hasCSS=!!c(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||h(a,d),a}var j,k,l="3.7.0",m=a.html5||{},n=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,o=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p="_html5shiv",q=0,r={};!function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",j="hidden"in a,k=1==a.childNodes.length||function(){b.createElement("a");var a=b.createDocumentFragment();return"undefined"==typeof a.cloneNode||"undefined"==typeof a.createDocumentFragment||"undefined"==typeof a.createElement}()}catch(c){j=!0,k=!0}}();var s={elements:m.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:l,shivCSS:m.shivCSS!==!1,supportsUnknownElements:k,shivMethods:m.shivMethods!==!1,type:"default",shivDocument:i,createElement:f,createDocumentFragment:g};a.html5=s,i(b)}(this,b),j._version=i,l.className=l.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(k?" js "+s.join(" "):""),j}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==q.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=r.shift();s=1,a?a.t?o(function(){("c"==a.t?m.injectCss:m.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):s=0}function i(a,c,d,e,f,i,j){function k(b){if(!n&&g(l.readyState)&&(t.r=n=1,!s&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&o(function(){v.removeChild(l)},50);for(var d in A[c])A[c].hasOwnProperty(d)&&A[c][d].onload()}}var j=j||m.errorTimeout,l=b.createElement(a),n=0,q=0,t={t:d,s:c,e:f,a:i,x:j};1===A[c]&&(q=1,A[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,q)},r.splice(e,0,t),"img"!=a&&(q||2===A[c]?(v.insertBefore(l,u?null:p),o(k,j)):A[c].push(l))}function j(a,b,c,d,f){return s=0,b=b||"j",e(a)?i("c"==b?x:w,a,b,this.i++,c,d,f):(r.splice(this.i++,0,a),1==r.length&&h()),this}function k(){var a=m;return a.loader={load:j,i:0},a}var l,m,n=b.documentElement,o=a.setTimeout,p=b.getElementsByTagName("script")[0],q={}.toString,r=[],s=0,t="MozAppearance"in n.style,u=t&&!!b.createRange().compareNode,v=u?n:p.parentNode,n=a.opera&&"[object Opera]"==q.call(a.opera),n=!!b.attachEvent&&!n,w=t?"object":n?"script":"img",x=n?"script":w,y=Array.isArray||function(a){return"[object Array]"==q.call(a)},z=[],A={},B={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}};m=function(a){function b(a){var b,c,d,a=a.split("!"),e=z.length,f=a.pop(),g=a.length,f={url:f,origUrl:f,prefixes:a};for(c=0;g>c;c++)d=a[c].split("="),(b=B[d.shift()])&&(f=b(f,d));for(c=0;e>c;c++)f=z[c](f);return f}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(A[i.url]?i.noexec=!0:A[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),A[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(l=function(){var a=[].slice.call(arguments);m.apply(this,a),n()}),g(a,l,b,0,j);else if(Object(a)===a)for(i in h=function(){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c}(),a)a.hasOwnProperty(i)&&(!c&&!--h&&(d(l)?l=function(){var a=[].slice.call(arguments);m.apply(this,a),n()}:l[i]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),n()}}(m[i])),g(a[i],l,b,i,j))}else!c&&n()}var h,i,j=!!a.test,k=a.load||a.both,l=a.callback||f,m=l,n=a.complete||f;c(j?a.yep:a.nope,!!k),k&&c(k)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(y(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):y(j)?m(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},m.addPrefix=function(a,b){B[a]=b},m.addFilter=function(a){z.push(a)},m.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",l=function(){b.removeEventListener("DOMContentLoaded",l,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k,l,n=b.createElement("script"),e=e||m.errorTimeout;n.src=a;for(l in d)n.setAttribute(l,d[l]);c=j?h:c||f,n.onreadystatechange=n.onload=function(){!k&&g(n.readyState)&&(k=1,c(),n.onload=n.onreadystatechange=null)},o(function(){k||(k=1,c(1))},e),i?n.onload():p.parentNode.insertBefore(n,p)},a.yepnope.injectCss=function(a,c,d,e,g,i){var j,e=b.createElement("link"),c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(p.parentNode.insertBefore(e,p),o(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},document.addEventListener("DOMContentLoaded",function(){function a(a){a.preventDefault();var b=document.getElementById("overlay");b.parentNode.removeChild(b)}for(var b=document.getElementsByName("close"),c=0;c<b.length;c++)b[c].addEventListener("click",a,!1)},!1);